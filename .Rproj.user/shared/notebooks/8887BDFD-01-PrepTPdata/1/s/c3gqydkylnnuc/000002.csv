"0","renameAndSelectCols<-function(traitabbrevs,indata,"
"0","                              customColsToKeep){"
"0","  # @indata: data.frame with 2 cols (TraitAbbrev and TraitName)"
"0","  ### TraitName should match exactly to cassava ontology names"
"0","  # @customColsToKeep: char. vec. of any custom cols you added and want to keep"
"0","  outdata<-indata %>% "
"0","    select(studyYear,programName,locationName,studyName,studyDesign,plotWidth,plotLength,fieldSize,"
"0","           plantingDate,harvestDate,locationName,germplasmName,"
"0","           replicate,blockNumber,plotNumber,rowNumber,colNumber,entryType,"
"0","           trialType:numberReps,folderName,"
"0","           all_of(customColsToKeep), "
"0","           all_of(traitabbrevs$TraitName)) %>% "
"0","    pivot_longer(cols = traitabbrevs$TraitName,"
"0","                 names_to = ""TraitName"","
"0","                 values_to = ""Value"") %>% "
"0","    left_join(.,traitabbrevs) %>% "
"0","    select(-TraitName) %>% "
"0","    pivot_wider(names_from = TraitAbbrev,"
"0","                values_from = ""Value"")"
"0","  return(outdata) }"
